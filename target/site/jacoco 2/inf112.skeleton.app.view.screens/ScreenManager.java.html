<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="nb"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ScreenManager.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">gdx-app</a> &gt; <a href="index.source.html" class="el_package">inf112.skeleton.app.view.screens</a> &gt; <span class="el_source">ScreenManager.java</span></div><h1>ScreenManager.java</h1><pre class="source lang-java linenums">package inf112.skeleton.app.view.screens;

import com.badlogic.gdx.Screen;
import com.badlogic.gdx.graphics.GL20;
import com.badlogic.gdx.graphics.g2d.BitmapFont;
import com.badlogic.gdx.graphics.g2d.SpriteBatch;
import com.badlogic.gdx.graphics.glutils.ShapeRenderer;
import com.badlogic.gdx.Game;
import com.badlogic.gdx.Gdx;

import inf112.skeleton.app.model.GameModel;



/**
 * This class is used to manage the different screens of the game.
 * 
 * 
 */


public class ScreenManager {
    private static ScreenManager instance;
    private Game game;
    private GameModel model;

    private ScreenManager() {
    }

    /**
     * This method is used to create a singleton instance of the ScreenManager class.
     * @return
     */

    public static ScreenManager getInstance() {
<span class="nc bnc" id="L36" title="All 2 branches missed.">        if (instance == null) {</span>
<span class="nc" id="L37">            instance = new ScreenManager();</span>
        }
<span class="nc" id="L39">        return instance;</span>
    }

    /**
     * This method is used to initialize the ScreenManager with a game and a model.
     * @param game
     * @param model
     */

    public void initialize(Game game, GameModel model) {
<span class="nc" id="L49">        this.game = game;</span>
<span class="nc" id="L50">        this.model = model;</span>
<span class="nc" id="L51">        showStartScreen();</span>
<span class="nc" id="L52">    }</span>

    /**
     * This method is used to set the current screen of the game.
     * @param screen
     */

    public void setScreen(Screen screen) {
<span class="nc" id="L60">        game.setScreen(screen);</span>
<span class="nc" id="L61">    }</span>

    /**
     * This method is used to show the start screen of the game.
     */

    public void showStartScreen() {
<span class="nc" id="L68">        Screen currentScreen = game.getScreen();</span>

<span class="nc bnc" id="L70" title="All 2 branches missed.">        if (currentScreen != null) {</span>
<span class="nc" id="L71">            currentScreen.dispose();</span>
        }

<span class="nc" id="L74">        Screen newScreen = new StartScreen(model);</span>
<span class="nc" id="L75">        game.setScreen(newScreen);</span>
<span class="nc" id="L76">    }</span>

    /**
     * This method is used to show the game screen of the game.
     */

    public void showGameScreen() {
<span class="nc" id="L83">        Screen currentScreen = game.getScreen();</span>

<span class="nc bnc" id="L85" title="All 2 branches missed.">        if (currentScreen != null) {</span>
<span class="nc" id="L86">            currentScreen.dispose();</span>
        }

<span class="nc" id="L89">        Screen newScreen = new GameScreen(model);</span>
<span class="nc" id="L90">        game.setScreen(newScreen);</span>
<span class="nc" id="L91">    }</span>

    /**
     * This method is used to show the game over screen of the game.
     */

    public void showGameOverScreen() {
<span class="nc" id="L98">        Screen currentScreen = game.getScreen();</span>

<span class="nc bnc" id="L100" title="All 2 branches missed.">        if (currentScreen != null) {</span>
<span class="nc" id="L101">            currentScreen.dispose();</span>
        }

<span class="nc" id="L104">        Screen newScreen = new GameOverScreen(model);</span>
<span class="nc" id="L105">        game.setScreen(newScreen);</span>
<span class="nc" id="L106">    }</span>

    /**
     * This method is used to show the level up screen of the game.
     *
     * @return
     */

    public void showLevelUpScreen(int level) {
<span class="nc" id="L115">        Screen currentScreen = game.getScreen();</span>

<span class="nc bnc" id="L117" title="All 2 branches missed.">        if (currentScreen != null) {</span>
<span class="nc" id="L118">            currentScreen.dispose();</span>
        }

<span class="nc" id="L121">        Screen newScreen = new LevelUpScreen(level);</span>
<span class="nc" id="L122">        game.setScreen(newScreen);</span>
<span class="nc" id="L123">    }</span>

    /**
     * This method is used to get the current screen of the game.
     * @return
     */

    public Screen getCurrentScreen() {
<span class="nc" id="L131">        return game.getScreen();</span>
    }

    /**
     *  get GameScreen
     */

    public GameScreen getGameScreen() {
<span class="nc" id="L139">        return (GameScreen) game.getScreen();</span>
    }

    /**
     * This method is used to dispose the current instance of the ScreenManager.
     */

    public void dispose() {
<span class="nc" id="L147">        instance = null;</span>
<span class="nc" id="L148">    }</span>

    /**
     * This method is used to create a transition effect between screens. 
     * start at 1 and end at 0 to fade in, transparent to opaque, and start at 0 and end at 1 to fade out, opaque to transparent.
     * @param current
     * @param start
     * @param end
     * @param speed
     * @param shapeRenderer
     * @return
     */

    public static float transitionEffect1(float current, float start, float end, float speed, ShapeRenderer shapeRenderer) {
<span class="nc bnc" id="L162" title="All 4 branches missed.">        if (current &lt; 1.1f &amp;&amp; current &gt; -0.1f) {</span>
            // Render the transition effect
<span class="nc" id="L164">            Gdx.gl.glEnable(GL20.GL_BLEND);</span>
<span class="nc" id="L165">            Gdx.gl.glBlendFunc(GL20.GL_SRC_ALPHA, GL20.GL_ONE_MINUS_SRC_ALPHA);</span>
<span class="nc" id="L166">            shapeRenderer.begin(ShapeRenderer.ShapeType.Filled);</span>
<span class="nc" id="L167">            shapeRenderer.setColor(0f, 0f, 0f, current);</span>
<span class="nc" id="L168">            shapeRenderer.rect(0, 0, Gdx.graphics.getWidth(), Gdx.graphics.getHeight());</span>
<span class="nc" id="L169">            shapeRenderer.end();</span>
<span class="nc" id="L170">            Gdx.gl.glDisable(GL20.GL_BLEND);</span>
            // Update the transition alpha
<span class="nc bnc" id="L172" title="All 4 branches missed.">            if (end &lt; 1.1f &amp;&amp; end &gt; 0.9f) {</span>
<span class="nc" id="L173">                current = Math.min(0.999f, current + 0.01f * speed);</span>
            } else {
<span class="nc" id="L175">                current = Math.max(0f, current - 0.01f * speed);</span>
            }
        } 
<span class="nc" id="L178">        return current;</span>
    }

    /**
     * This method is used to create a pause menu. creates a gray transparent overlay 
     * and writes &quot;PAUSED&quot; in the middle of the screen.
     * @param shapeRenderer
     * @param font
     * @param batch
     */

    public static void pauseMenu(ShapeRenderer shapeRenderer, BitmapFont font, SpriteBatch batch) {
<span class="nc" id="L190">        Gdx.gl.glEnable(GL20.GL_BLEND);</span>
<span class="nc" id="L191">        Gdx.gl.glBlendFunc(GL20.GL_SRC_ALPHA, GL20.GL_ONE_MINUS_SRC_ALPHA);</span>
<span class="nc" id="L192">        shapeRenderer.begin(ShapeRenderer.ShapeType.Filled);</span>
<span class="nc" id="L193">        shapeRenderer.setColor(0f, 0f, 0f, 0.5f);</span>
<span class="nc" id="L194">        shapeRenderer.rect(0, 0, Gdx.graphics.getWidth(), Gdx.graphics.getHeight());</span>
<span class="nc" id="L195">        shapeRenderer.end();</span>
<span class="nc" id="L196">        Gdx.gl.glDisable(GL20.GL_BLEND);</span>
<span class="nc" id="L197">        Gdx.gl.glEnable(GL20.GL_BLEND);</span>
<span class="nc" id="L198">        Gdx.gl.glBlendFunc(GL20.GL_SRC_ALPHA, GL20.GL_ONE_MINUS_SRC_ALPHA);</span>
<span class="nc" id="L199">        batch.begin();</span>
<span class="nc" id="L200">        font.setColor(1f,1f,1f,1f);</span>
<span class="nc" id="L201">        font.getData().setScale(4f);</span>
<span class="nc" id="L202">        font.draw(batch, &quot;PAUSED&quot;, Gdx.graphics.getWidth() / 2 - Gdx.graphics.getWidth() / 6, Gdx.graphics.getWidth() / 2 + Gdx.graphics.getWidth() / 8);</span>
<span class="nc" id="L203">        batch.end();</span>
<span class="nc" id="L204">        Gdx.gl.glDisable(GL20.GL_BLEND);</span>

<span class="nc" id="L206">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>